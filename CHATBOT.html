<!DOCTYPE HTML>
<!--
	Massively by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Kakao Chatbot</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
					<header id="header">
						<a href="index.html" class="logo">dongkey-dev</a>
					</header>

				<!-- Nav -->
					<nav id="nav">
						<ul class="links">
							<li><a href="index.html">overview</a></li>
							<li ><a href="EOSIO-IoT.html">01 blockchain-iot</a></li>
							<li><a href="webcrawling.html">02 web-crawling</a></li>
							<li><a href="https://github.com/dongkey-dev/noticeboard">03 noticeboard</a></li>
							<li class="active"><a href="CHATBOT.html">04 chatbot</a></li>
						</ul>
						<ul class="icons">
							<li><a href="https://github.com/dongkey-dev" class="icon brands fa-github"><span class="label">GitHub</span></a></li>
						</ul>
					</nav>

				<!-- Main -->
					<div id="main">

						<!-- Post -->
							<section class="post">
								<header>
									<h2>카카오톡 챗봇 </h2>
								</header>

								<!-- Text stuff -->
									<p><strong><em>해당 챗봇은 "채팅 자동응답 봇", "Wear OS by Google", "카카오톡" 애플리케이션이 필요합니다.</em></strong></p>
									<div class = "parent">
									<div class = "first"><img class = "image fit"><img src="images/chatbotapp.png"></div>
									<div class = "second"><img class = "image fit"><img src="images/wearosbygoogle.png"></div>
									<div class = "third"><img class = "image fit"><img src="images/kakaotalk.png"></div>
									</div>
									</br></br></br></br></br></br></br>
									<p>총 8개의 챗봇 기능을 구현했습니다.</p>
								<!-- Lists -->
									<div class="row">
										<div class="col-6 col-12-small">
											<ul>
												<li>주가 조회</li>
												<li>주식 시장 지수 조회</li>
												<li>주식 선물 지수 조회</li>
												<li>국내 개인 기관 외인 동향 조회</li>
											</ul>
										</div>
										<div class="col-6 col-12-small">
											<ul>
												<li>원자재 선물 지수 조회</li>
												<li>공포&탐욕 지수 조회</li>
												<li>10일간의 종가 기록 조회</li>
												<li>날씨 조회</li>
											</ul>
										</div>
									</div>
									<p>챗봇은 </br>
									'채팅 자동응답 봇'이 알림메세지 감시  ->  챗봇 기능 호출 메세지 수신  ->  동작
									</br>로직으로 동작합니다.</br>
									제 코드는 함수 호출 단어가 감지가 되면, 해당 서비스를 제공하는 웹페이지에서 정보를 갖고오는 방식으로 동작합니다.
									</p>
									<hr/>
								<h3>weather.js</h3>
								<pre><code>
 function response(room, msg, sender, isGroupChat, replier, ImageDB) {	
  if (msg == "날씨" ) {

    var qurryURL = "https://www.google.com/search?q=" + "날씨";

	//replier.reply("data connect 시작")
	

	
	var datapage = org.jsoup.Jsoup.connect(qurryURL) // 차트 data
		.ignoreContentType(true)
		.get()
	<details><summary>자세히 보기</summary>
	// 위치 
    var loc =datapage
     .select("div[class$=vk_h]")+" " ; // 문자열로 바꿔 주기 위해 + ""
	loc = loc.replace(/<[^>]+>/g, ""); // 태그 제거하고 안에 내용만 빼기, (다 제거)
    loc = loc.replace(/\n/g, " "); // 엔터 제거
	loc = loc.split(" ");
	loc = loc[2] + " " + loc[3] + "";
	
	var time = datapage
	.select("div[class$=vk_sh]").get(0)+" ";
	time = time.replace(/<[^>]+>/g, "");
	time = time.replace(/\n/g, " ");
	
	var weath = datapage
	.select("span[class$=vk_sh]").get(0)+" ";
	weath = weath.replace(/<[^>]+>/g, "");
	weath = weath.replace(/\n/g, " ");
	
	var cur_temp = datapage
	.select("span.wob_t").get(0) + " ";
	cur_temp = cur_temp.replace(/<[^>]+>/g, "");
	cur_temp = cur_temp.replace(/\n/g, " ");
	
	var high_temp = datapage
	.select("div.vk_gy").select("span.wob_t").get(2) + " ";
	high_temp = high_temp.replace(/<[^>]+>/g, "");
	high_temp = high_temp.replace(/\n/g, " ");
	
	var low_temp = datapage
		.select("div[class$=wob_ds]").select("span[class$=wob_t]").get(2) + " ";
	low_temp = low_temp.replace(/<[^>]+>/g, "");
	low_temp = low_temp.replace(/\n/g, " ");
	
	replier.reply("[ 날씨 : "+loc + " ]" + "\n" + time + ": " + cur_temp+"°C" + "\n" +  weath + "\n" +
	"최고기온 : " +  high_temp+ "°C" + "\n" +
	"최저기온 : " +  low_temp+ "°C" + "\n") 
  }
}
								</details></code></pre>
								<p></p>
								<h3>stock_price.js</h3>
								<pre><code>
 function response(room, msg, sender, isGroupChat, replier, ImageDB) {	
  var msg2 = msg
  msg = msg.split(' ')  
  if (msg[0] == "주가" || msg[0] == '/' ) {
	var stockname = msg[1] 
    var qurryURL = "https://www.google.com/search?q=" + "주가 " +stockname;
	//replier.reply("data connect 시작")
	
	var datapage = org.jsoup.Jsoup.connect(qurryURL) // 차트 data
		.ignoreContentType(true)
		.get()
		//replier.reply("data connect 완료")
	<details><summary>자세히 보기</summary>
	//검색된 종목 이름
    var searchstockname =datapage
        .select("div.oPhL2e") + ""; // 문자열로 바꿔 주기 위해 + ""
	//replier.reply("종가 data 완료")
	if (searchstockname == ""){
		replier.reply(stockname + "의 주가를 찾을 수 없습니다.")
		return 0
	}

    searchstockname = searchstockname.replace(/<[^>]+>/g, "");
	searchstockname = searchstockname.replace(/\n/g, " ");	
	//검색된 종목 종류
    var searchstockcategori =datapage
        .select("div.HfMth") + ""; // 문자열로 바꿔 주기 위해 + ""
	//replier.reply("종가 data 완료")

    searchstockcategori = searchstockcategori.replace(/<[^>]+>/g, "");
	searchstockcategori = searchstockcategori.replace(/\n/g, " ");
	var stockcode1 = searchstockcategori.split(" ")
	var stockcode2 = stockcode1[3]


	//검색된 종목 최종 주가 날짜
    var searchstockpricedate =datapage
        .select("span[jsname=ihIZgd]") + ""; // 문자열로 바꿔 주기 위해 + ""
	//replier.reply("종가 data 완료")
    searchstockpricedate = searchstockpricedate.replace(/<[^>]+>/g, "");
	
	//검색된 종목 화폐
    var exchange =datapage
        .select("span.knFDje") + ""; // 문자열로 바꿔 주기 위해 + ""
	//replier.reply("종가 data 완료")

    exchange = exchange.replace(/<[^>]+>/g, "");
	exchange = exchange.replace(/\n/g, " ");
	
	
	//검색된 종목 최종 주가
    var searchstockprice =datapage
        .select("span.IsqQVc.NprOob") + ""; // 문자열로 바꿔 주기 위해 + ""
	//replier.reply("종가 data 완료")

    searchstockprice = searchstockprice.replace(/<[^>]+>/g, "");

	//검색된 종목 최종 주가 증가
    var searchstockpricevariance =datapage
        .select("span[jsname=qRSVye]") + ""; // 문자열로 바꿔 주기 위해 + ""
	//replier.reply("종가 data 완료")

    searchstockpricevariance = searchstockpricevariance.replace(/<[^>]+>/g, "");
	searchstockpricevariance = searchstockpricevariance.replace(/\n/g, " ");
	
	//검색된 종목 최종 주가 증가 퍼센티지
    var searchstockpricevariancepercentage =datapage
        .select('span[jsname=rfaVEf]') + ""; // 문자열로 바꿔 주기 위해 + ""
		
    searchstockpricevariancepercentage = searchstockpricevariancepercentage.replace(/<[^>]+>/g, "");
	searchstockpricevariancepercentage = searchstockpricevariancepercentage.split("\n")
	searchstockpricevariancepercentage = searchstockpricevariancepercentage[0]

	//검색된 종목 프리/애프터 주가
    var searchstockpreafterprice =datapage
        .select("span[jsname=wurNO]") + ""; // 문자열로 바꿔 주기 위해 + ""
	//replier.reply("종가 data 완료")

    searchstockpreafterprice = searchstockpreafterprice.replace(/<[^>]+>/g, "");
	
	if (searchstockpreafterprice == ""){

		var searchstockDividendYield =datapage
        .select("td.iyjjgb") + ""; // 문자열로 바꿔 주기 위해 + ""
		//replier.reply("종가 data 완료")

		searchstockDividendYield = searchstockDividendYield.replace(/<[^>]+>/g, "");
		searchstockDividendYield = searchstockDividendYield.split("\n");
		searchstockDividendYield = searchstockDividendYield[5]
		//출력 메세지
		var infomsg = 
		"[" + searchstockname +"]" + "\n" + 
		searchstockcategori + "\n" +
		"[" + searchstockpricedate+"]" + "\n" +
		exchange + searchstockprice + ", " + searchstockpricevariance+searchstockpricevariancepercentage +"\n" +
		"[ Dividend yield ] : " + searchstockDividendYield + "\n";
		replier.reply(infomsg);
		return 0;
	}
	
	//검색된 종목 프리/애프터 주가 증가
    var searchstockpreafterpricevariance =datapage
        .select("span[jsname=TmYleb]") + ""; // 문자열로 바꿔 주기 위해 + ""
	//replier.reply("종가 data 완료")

    searchstockpreafterpricevariance = searchstockpreafterpricevariance.replace(/<[^>]+>/g, "");

	//검색된 종목 프리/애프터 주가 증가 퍼센티지
    var searchstockpreafterpricevariancepercentage =datapage
        .select("span[jsname=sam3Lb]") + ""; // 문자열로 바꿔 주기 위해 + ""
	//replier.reply("종가 data 완료")

    searchstockpreafterpricevariancepercentage = searchstockpreafterpricevariancepercentage.replace(/<[^>]+>/g, "");

	//검색된 종목 배당수익률
    var searchstockDividendYield =datapage
        .select("td.iyjjgb") + ""; // 문자열로 바꿔 주기 위해 + ""
	//replier.reply("종가 data 완료")

    searchstockDividendYield = searchstockDividendYield.replace(/<[^>]+>/g, "");
	searchstockDividendYield = searchstockDividendYield.split("\n");
	searchstockDividendYield = searchstockDividendYield[5]



	//출력 메세지
    var infomsg = 
	"[" + searchstockname +"]" + "\n" + 
	" "+ searchstockcategori + "\n" +
	"[" + searchstockpricedate+"]" + "\n" +
	exchange + searchstockprice + ", " + searchstockpricevariance+searchstockpricevariancepercentage +"\n" +
	"[ Pre & After Market ]" + "\n" +
	exchange + searchstockpreafterprice +", "+ searchstockpreafterpricevariance + " " + searchstockpreafterpricevariancepercentage + "\n" + 
	"[ Dividend yield ] : " + searchstockDividendYield + "\n";
    replier.reply(infomsg);
  }
}
								</details></code></pre>
								<p></p>
								<h3>indices.js</h3>
								<pre><code>
function response(room, msg, sender, isGroupChat, replier, ImageDB) {
  if (msg == "지수") {
    var incidiesURL = "https://kr.investing.com/indices/major-indices"	
	//replier.reply("data connect 시작")
	
	var incidata = org.jsoup.Jsoup.connect(incidiesURL) // 차트 data
		.ignoreContentType(true)
		.get()
		//replier.reply("data connect 완료")
	
	//S&P 500
    var sp500data =incidata
        .select("td.pid-166-last") + ""; // 문자열로 바꿔 주기 위해 + ""
	//replier.reply("종가 data 완료")
<details><summary>자세히 보기</summary>
    sp500data = sp500data.replace(/<[^>]+>/g, "");

	//replier.reply("증가분 data connect 시작")
    var sp500support =incidata
        .select("td.pid-166-pcp") + ""; // 증가분 처리
	//replier.reply("증가분 data connect 완료")
		
    sp500support = sp500support.replace(/<[^>]+>/g, ""); // 태그 제거하고 안에 내용만 빼기, (다 제거)
    sp500support = sp500support.replace(/\n/g, " "); // 엔터 제거
	
	sp500data = sp500data.split('\n')
	sp500support = sp500support.split(' ')
	
	//S&P VIX
    var vixdata =incidata
        .select("td.pid-44336-last") + ""; // 문자열로 바꿔 주기 위해 + ""
	//replier.reply("종가 data 완료")

    vixdata = vixdata.replace(/<[^>]+>/g, "");

	//replier.reply("증가분 data connect 시작")
    var vixdatasupport =incidata
        .select("td.pid-44336-pcp") + ""; // 증가분 처리
	//replier.reply("증가분 data connect 완료")
		
    vixdatasupport = vixdatasupport.replace(/<[^>]+>/g, ""); // 태그 제거하고 안에 내용만 빼기, (다 제거)
    vixdatasupport = vixdatasupport.replace(/\n/g, " "); // 엔터 제거
	
	vixdata = vixdata.split('\n')
	vixdatasupport = vixdatasupport.split(' ')
	
	//다우30
    var dow30data =incidata
        .select("td.pid-169-last") + ""; // 문자열로 바꿔 주기 위해 + ""
	//replier.reply("종가 data 완료")

    dow30data = dow30data.replace(/<[^>]+>/g, "");

	//replier.reply("증가분 data connect 시작")
    var dow30datasupport =incidata
        .select("td.pid-169-pcp") + ""; // 증가분 처리
	//replier.reply("증가분 data connect 완료")
		
    dow30datasupport = dow30datasupport.replace(/<[^>]+>/g, ""); // 태그 제거하고 안에 내용만 빼기, (다 제거)
    dow30datasupport = dow30datasupport.replace(/\n/g, " "); // 엔터 제거
	
	dow30data = dow30data.split('\n')
	dow30datasupport = dow30datasupport.split(' ')
	
	//나스닥
    var nasdata =incidata
        .select("td.pid-14958-last") + ""; // 문자열로 바꿔 주기 위해 + ""
	//replier.reply("종가 data 완료")

    nasdata = nasdata.replace(/<[^>]+>/g, "");

	//replier.reply("증가분 data connect 시작")
    var nasdatasupport =incidata
        .select("td.pid-14958-pcp") + ""; // 증가분 처리
	//replier.reply("증가분 data connect 완료")
		
    nasdatasupport = nasdatasupport.replace(/<[^>]+>/g, ""); // 태그 제거하고 안에 내용만 빼기, (다 제거)
    nasdatasupport = nasdatasupport.replace(/\n/g, " "); // 엔터 제거
	
	nasdata = nasdata.split('\n')
	nasdatasupport = nasdatasupport.split(' ')
	
	//코스피
    var kospidata =incidata
        .select("td.pid-37426-last") + ""; // 문자열로 바꿔 주기 위해 + ""
	//replier.reply("종가 data 완료")

    kospidata = kospidata.replace(/<[^>]+>/g, "");

	//replier.reply("증가분 data connect 시작")
    var kospidatasupport =incidata
        .select("td.pid-37426-pcp") + ""; // 증가분 처리
	//replier.reply("증가분 data connect 완료")
		
    kospidatasupport = kospidatasupport.replace(/<[^>]+>/g, ""); // 태그 제거하고 안에 내용만 빼기, (다 제거)
    kospidatasupport = kospidatasupport.replace(/\n/g, " "); // 엔터 제거
	
	kospidata = kospidata.split('\n')
	kospidatasupport = kospidatasupport.split(' ')
	
	//니케이
    var kosdaqdata =incidata
        .select("td.pid-38016-last") + ""; // 문자열로 바꿔 주기 위해 + ""
	//replier.reply("종가 data 완료")

    kosdaqdata = kosdaqdata.replace(/<[^>]+>/g, "");

	//replier.reply("증가분 data connect 시작")
    var kosdaqdatasupport =incidata
        .select("td.pid-38016-pcp") + ""; // 증가분 처리
	//replier.reply("증가분 data connect 완료")
		
    kosdaqdatasupport = kosdaqdatasupport.replace(/<[^>]+>/g, ""); // 태그 제거하고 안에 내용만 빼기, (다 제거)
    kosdaqdatasupport = kosdaqdatasupport.replace(/\n/g, " "); // 엔터 제거
	
	kosdaqdata = kosdaqdata.split('\n')
	kosdaqdatasupport = kosdaqdatasupport.split(' ')
	
	//출력 메세지
    var incimsg = 
	"           "+"[ 지수 ]" + "\n" + 
	"$나스닥 (" + nasdata[0] + " " + nasdatasupport[0]+")" + "\n" +
	"$S&P500 (" + sp500data[0] + " " + sp500support[0]+")" + "\n" +
	"$다우30 (" + dow30data[0] + " " + dow30datasupport[0]+")" + "\n" +
	"$   VIX   (" + vixdata[0] + " " + vixdatasupport[0]+")" + "\n" +
	
	"\n" + "$코스피 (" + kospidata[0] + " " + kospidatasupport[0]+")" + "\n" +
	"$코스닥 (" + kosdaqdata[0] + " " + kosdaqdatasupport[0]+")" + "\n" +
	"";

    replier.reply(incimsg);
  }
}								
								</details></code></pre>
								<p></p>

								<h3>indices_futures.js</h3>
								<pre><code>
function response(room, msg, sender, isGroupChat, replier, ImageDB) {
  if (msg == "선물") {
    var incidiesURL = "https://kr.investing.com/indices/indices-futures";
	
	//replier.reply("data connect 시작")
	
	var incidata = org.jsoup.Jsoup.connect(incidiesURL) // 차트 data
		.ignoreContentType(true)
		.get()
		//replier.reply("data connect 완료")
	
	//S&P 500
    var sp500data =incidata
        .select("td.pid-8839-last") + ""; // 문자열로 바꿔 주기 위해 + ""
	//replier.reply("종가 data 완료")
<details><summary>자세히 보기</summary>
    sp500data = sp500data.replace(/<[^>]+>/g, "");

	//replier.reply("증가분 data connect 시작")
    var sp500support =incidata
        .select("td.pid-8839-pcp") + ""; // 증가분 처리
	//replier.reply("증가분 data connect 완료")
		
    sp500support = sp500support.replace(/<[^>]+>/g, ""); // 태그 제거하고 안에 내용만 빼기, (다 제거)
    sp500support = sp500support.replace(/\n/g, " "); // 엔터 제거
	
	sp500data = sp500data.split('\n')
	sp500support = sp500support.split(' ')
	
	//S&P VIX
    var vixdata =incidata
        .select("td.pid-8884-last") + ""; // 문자열로 바꿔 주기 위해 + ""
	//replier.reply("종가 data 완료")

    vixdata = vixdata.replace(/<[^>]+>/g, "");

	//replier.reply("증가분 data connect 시작")
    var vixdatasupport =incidata
        .select("td.pid-8884-pcp") + ""; // 증가분 처리
	//replier.reply("증가분 data connect 완료")
		
    vixdatasupport = vixdatasupport.replace(/<[^>]+>/g, ""); // 태그 제거하고 안에 내용만 빼기, (다 제거)
    vixdatasupport = vixdatasupport.replace(/\n/g, " "); // 엔터 제거
	
	vixdata = vixdata.split('\n')
	vixdatasupport = vixdatasupport.split(' ')
	
	//다우30
    var dow30data =incidata
        .select("td.pid-8873-last") + ""; // 문자열로 바꿔 주기 위해 + ""
	//replier.reply("종가 data 완료")

    dow30data = dow30data.replace(/<[^>]+>/g, "");

	//replier.reply("증가분 data connect 시작")
    var dow30datasupport =incidata
        .select("td.pid-8873-pcp") + ""; // 증가분 처리
	//replier.reply("증가분 data connect 완료")
		
    dow30datasupport = dow30datasupport.replace(/<[^>]+>/g, ""); // 태그 제거하고 안에 내용만 빼기, (다 제거)
    dow30datasupport = dow30datasupport.replace(/\n/g, " "); // 엔터 제거
	
	dow30data = dow30data.split('\n')
	dow30datasupport = dow30datasupport.split(' ')
	
	//나스닥
    var nasdata =incidata
        .select("td.pid-8874-last") + ""; // 문자열로 바꿔 주기 위해 + ""
	//replier.reply("종가 data 완료")

    nasdata = nasdata.replace(/<[^>]+>/g, "");

	//replier.reply("증가분 data connect 시작")
    var nasdatasupport =incidata
        .select("td.pid-8874-pcp") + ""; // 증가분 처리
	//replier.reply("증가분 data connect 완료")
		
    nasdatasupport = nasdatasupport.replace(/<[^>]+>/g, ""); // 태그 제거하고 안에 내용만 빼기, (다 제거)
    nasdatasupport = nasdatasupport.replace(/\n/g, " "); // 엔터 제거
	
	nasdata = nasdata.split('\n')
	nasdatasupport = nasdatasupport.split(' ')
	
	//코스피
    var kospidata =incidata
        .select("td.pid-8987-last") + ""; // 문자열로 바꿔 주기 위해 + ""
	//replier.reply("종가 data 완료")

    kospidata = kospidata.replace(/<[^>]+>/g, "");

	//replier.reply("증가분 data connect 시작")
    var kospidatasupport =incidata
        .select("td.pid-8987-pcp") + ""; // 증가분 처리
	//replier.reply("증가분 data connect 완료")
		
    kospidatasupport = kospidatasupport.replace(/<[^>]+>/g, ""); // 태그 제거하고 안에 내용만 빼기, (다 제거)
    kospidatasupport = kospidatasupport.replace(/\n/g, " "); // 엔터 제거
	
	kospidata = kospidata.split('\n')
	kospidatasupport = kospidatasupport.split(' ')
	
	//니케이
    var nikaidata =incidata
        .select("td.pid-8859-last") + ""; // 문자열로 바꿔 주기 위해 + ""
	//replier.reply("종가 data 완료")

    nikaidata = nikaidata.replace(/<[^>]+>/g, "");

	//replier.reply("증가분 data connect 시작")
    var nikaidatasupport =incidata
        .select("td.pid-8859-pcp") + ""; // 증가분 처리
	//replier.reply("증가분 data connect 완료")
		
    nikaidatasupport = nikaidatasupport.replace(/<[^>]+>/g, ""); // 태그 제거하고 안에 내용만 빼기, (다 제거)
    nikaidatasupport = nikaidatasupport.replace(/\n/g, " "); // 엔터 제거
	
	nikaidata = nikaidata.split('\n')
	nikaidatasupport = nikaidatasupport.split(' ')
	
	//출력 메세지
    var incimsg = 
	"           "+"[ 선물 ]" + "\n" + 
	"$나스닥 (" + nasdata[0] + " " + nasdatasupport[0]+")" + "\n" +
	"$S&P500 (" + sp500data[0] + " " + sp500support[0]+")" + "\n" +
	"$다우30 (" + dow30data[0] + " " + dow30datasupport[0]+")" + "\n" +
	"$   VIX   (" + vixdata[0] + " " + vixdatasupport[0]+")" + "\n" +
	
	"\n" + "$코스피250 (" + kospidata[0] + " " + kospidatasupport[0]+")" + "\n" +
	"";

    replier.reply(incimsg);
  }
}								
								</details></code></pre>

								<p></p>
								<h3>indices_korea.js</h3>
								<pre><code>
 function response(room, msg, sender, isGroupChat, replier, ImageDB) {	
  if (msg == "국장" ) {

    var qurryURL = "https://finance.naver.com/sise/";

	// replier.reply("data connect 시작")
	
	var datapage = org.jsoup.Jsoup.connect(qurryURL) // 차트 data
		.ignoreContentType(true)
		.get()
	// replier.reply(datapage)
		
	// 코스피 코스닥 등락 퍼센티지 
	<details><summary>자세히 보기</summary>
    var kospi =datapage
     .select("span[id$=KOSPI_now]") + " " ; // 문자열로 바꿔 주기 위해 + ""
	kospi = kospi.replace(/<[^>]+>/g, ""); // 태그 제거하고 안에 내용만 빼기, (다 제거)
    kospi = kospi.replace(/\n/g, " "); // 엔터 제거
	
	var kospi_ch = datapage
     .select("span[id$=KOSPI_change]") + " " ; // 문자열로 바꿔 주기 위해 + ""
	kospi_ch = kospi_ch.replace(/<[^>]+>/g, ""); // 태그 제거하고 안에 내용만 빼기, (다 제거)
    kospi_ch = kospi_ch.replace(/\n/g, " "); // 엔터 제거
	
	var kosdaq = datapage
	 .select("span[id$=KOSDAQ_now]") + " " ; // 문자열로 바꿔 주기 위해 + ""
	kosdaq = kosdaq.replace(/<[^>]+>/g, ""); // 태그 제거하고 안에 내용만 빼기, (다 제거)
    kosdaq = kosdaq.replace(/\n/g, " "); // 엔터 제거
	
	var kosdaq_ch =datapage
	 .select("span[id$=KOSDAQ_change]") + " " ; // 문자열로 바꿔 주기 위해 + ""
	kosdaq_ch = kosdaq_ch.replace(/<[^>]+>/g, ""); // 태그 제거하고 안에 내용만 빼기, (다 제거)
    kosdaq_ch = kosdaq_ch.replace(/\n/g, " "); // 엔터 제거
	
	// 코스피 코스닥 개인 외인 기관 등락 퍼센티지 
    var updown =datapage
     .select("div[class$=lft]")
	 
	var gaemi = updown.select("li[class$=c2]")+ " " ; // 문자열로 바꿔 주기 위해 + ""
	gaemi = gaemi.replace(/<[^>]+>/g, ""); // 태그 제거하고 안에 내용만 빼기, (다 제거)
    gaemi = gaemi.replace(/\n/g, " "); // 엔터 제거
	gaemi = gaemi.split(" ");
	
	var fore = updown.select("li[class$=c3]")+ " " ; // 문자열로 바꿔 주기 위해 + ""
	fore = fore.replace(/<[^>]+>/g, ""); // 태그 제거하고 안에 내용만 빼기, (다 제거)
    fore = fore.replace(/\n/g, " "); // 엔터 제거
	fore = fore.split(" ");
	
	var gigwan = updown.select("li[class$=c4]")+ " " ; // 문자열로 바꿔 주기 위해 + ""
	gigwan = gigwan.replace(/<[^>]+>/g, ""); // 태그 제거하고 안에 내용만 빼기, (다 제거)
    gigwan = gigwan.replace(/\n/g, " "); // 엔터 제거
	gigwan = gigwan.split(" ");
	//date = date.split(" ");
	
	replier.reply(
	"코스피: " + kospi
	+kospi_ch.substring(kospi_ch.indexOf(" "),kospi_ch.indexOf("상")) + "\n"
	+ gaemi[0] +"\n" +
	fore[0] + "\n" + 
	gigwan[0] + "\n" 
	+ "\n" +	
	"코스닥: " + kosdaq 
	+kosdaq_ch.substring(kosdaq_ch.indexOf(" "),kosdaq_ch.indexOf("상")) + "\n" 
	+ gaemi[1] +"\n" +
	fore[1] + "\n" + 
	gigwan[1]
	
	)

  }
}								
								</details></code></pre>
								<p></p>
								<h3>materials_futures.js</h3>
								<pre><code>
function response(room, msg, sender, isGroupChat, replier, ImageDB) {
  if (msg == "원자재") {
    var incidiesURL = "https://www.investing.com/commodities/real-time-futures";
	
	//replier.reply("data connect 시작")
	
	var incidata = org.jsoup.Jsoup.connect(incidiesURL) // 차트 data
		.ignoreContentType(true)
		.get()
		//replier.reply("data connect 완료")
	
	//금
	<details><summary>자세히 보기</summary>
    var golddata =incidata
        .select("td.pid-8830-last") + ""; // 문자열로 바꿔 주기 위해 + ""
	//replier.reply("종가 data 완료")

    golddata = golddata.replace(/<[^>]+>/g, "");

	//replier.reply("증가분 data connect 시작")
    var golddatasupport =incidata
        .select("td.pid-8830-pcp") + ""; // 증가분 처리
	//replier.reply("증가분 data connect 완료")
		
    golddatasupport = golddatasupport.replace(/<[^>]+>/g, ""); // 태그 제거하고 안에 내용만 빼기, (다 제거)
    golddatasupport = golddatasupport.replace(/\n/g, " "); // 엔터 제거
	
	golddata = golddata.split('\n')
	golddatasupport = golddatasupport.split(' ')
	
	//은
    var silverdata =incidata
        .select("td.pid-8836-last") + ""; // 문자열로 바꿔 주기 위해 + ""
	//replier.reply("종가 data 완료")

    silverdata = silverdata.replace(/<[^>]+>/g, "");

	//replier.reply("증가분 data connect 시작")
    var silverdatasupport =incidata
        .select("td.pid-8836-pcp") + ""; // 증가분 처리
	//replier.reply("증가분 data connect 완료")
		
    silverdatasupport = silverdatasupport.replace(/<[^>]+>/g, ""); // 태그 제거하고 안에 내용만 빼기, (다 제거)
    silverdatasupport = silverdatasupport.replace(/\n/g, " "); // 엔터 제거
	
	silverdata = silverdata.split('\n')
	silverdatasupport = silverdatasupport.split(' ')
	
	//팔라듐
    var palladiumdata =incidata
        .select("td.pid-8883-last") + ""; // 문자열로 바꿔 주기 위해 + ""
	//replier.reply("종가 data 완료")

    palladiumdata = palladiumdata.replace(/<[^>]+>/g, "");

	//replier.reply("증가분 data connect 시작")
    var palladiumdatasupport =incidata
        .select("td.pid-8883-pcp") + ""; // 증가분 처리
	//replier.reply("증가분 data connect 완료")
		
    palladiumdatasupport = palladiumdatasupport.replace(/<[^>]+>/g, ""); // 태그 제거하고 안에 내용만 빼기, (다 제거)
    palladiumdatasupport = palladiumdatasupport.replace(/\n/g, " "); // 엔터 제거
	
	palladiumdata = palladiumdata.split('\n')
	palladiumdatasupport = palladiumdatasupport.split(' ')
	
	//WTI유
    var wtidata =incidata
        .select("td.pid-8849-last") + ""; // 문자열로 바꿔 주기 위해 + ""
	//replier.reply("종가 data 완료")

    wtidata = wtidata.replace(/<[^>]+>/g, "");

	//replier.reply("증가분 data connect 시작")
    var wtidatasupport =incidata
        .select("td.pid-8849-pcp") + ""; // 증가분 처리
	//replier.reply("증가분 data connect 완료")
		
    wtidatasupport = wtidatasupport.replace(/<[^>]+>/g, ""); // 태그 제거하고 안에 내용만 빼기, (다 제거)
    wtidatasupport = wtidatasupport.replace(/\n/g, " "); // 엔터 제거
	
	wtidata = wtidata.split('\n')
	wtidatasupport = wtidatasupport.split(' ')
	
	//BRENT유
    var brentdata =incidata
        .select("td.pid-8833-last") + ""; // 문자열로 바꿔 주기 위해 + ""
	//replier.reply("종가 data 완료")

    brentdata = brentdata.replace(/<[^>]+>/g, "");

	//replier.reply("증가분 data connect 시작")
    var brentdatasupport =incidata
        .select("td.pid-8833-pcp") + ""; // 증가분 처리
	//replier.reply("증가분 data connect 완료")
		
    brentdatasupport = brentdatasupport.replace(/<[^>]+>/g, ""); // 태그 제거하고 안에 내용만 빼기, (다 제거)
    brentdatasupport = brentdatasupport.replace(/\n/g, " "); // 엔터 제거
	
	brentdata = brentdata.split('\n')
	brentdatasupport = brentdatasupport.split(' ')
	
	//NATURAL유
    var naturaldata =incidata
        .select("td.pid-8862-last") + ""; // 문자열로 바꿔 주기 위해 + ""
	//replier.reply("종가 data 완료")

    naturaldata = naturaldata.replace(/<[^>]+>/g, "");

	//replier.reply("증가분 data connect 시작")
    var naturaldatasupport =incidata
        .select("td.pid-8862-pcp") + ""; // 증가분 처리
	//replier.reply("증가분 data connect 완료")
		
    naturaldatasupport = naturaldatasupport.replace(/<[^>]+>/g, ""); // 태그 제거하고 안에 내용만 빼기, (다 제거)
    naturaldatasupport = naturaldatasupport.replace(/\n/g, " "); // 엔터 제거
	
	naturaldata = naturaldata.split('\n')
	naturaldatasupport = naturaldatasupport.split(' ')
	
	//출력 메세지
    var incimsg = 
	"            "+"[원자재]" + "\n" + 
	"$WTI유 (" + wtidata[0] + " " + wtidatasupport[0]+")" + "\n" +
	"$브렌트유 (" + brentdata[0] + " " + brentdatasupport[0]+")" + "\n" +
	"$천연가스 (" + naturaldata[0] + " " + naturaldatasupport[0]+")" + "\n" +
	"$금 (" + golddata[0] + " " + golddatasupport[0]+")" + "\n" +
	"$은 (" + silverdata[0] + " " + silverdatasupport[0]+")" + "\n" +
	"$팔라듐 (" + palladiumdata[0] + " " + palladiumdatasupport[0]+")" + "\n" +
	"";

    replier.reply(incimsg);
  }
}								
								</details></code></pre>
								<p></p>
								<h3>record_closing_price.js</h3>
								<pre><code>
function response(room, msg, sender, isGroupChat, replier, ImageDB) {	

		var arraymsg = msg.split(" ");

		if ((arraymsg[0] == "종가"||arraymsg[0] == "기록") && arraymsg[1] != null) {
			var stockname = arraymsg[1];
			var qurryURL = "https://www.google.com/search?q="+stockname+" " + "역사적인 가격";
	
			var firstpage = org.jsoup.Jsoup.connect(qurryURL) // 차트 data
			.ignoreContentType(true)
			.get()
<details><summary>자세히 보기</summary>
			var investingURL =firstpage
			.select("div.r").select("a").first().attr("href");//.first().attr("href"); // 문자열로 바꿔 주기 위해 + ""

	 

			var datapage = org.jsoup.Jsoup.connect(investingURL) // 차트 data
				.ignoreContentType(true)
				.get()
		
			var trs = datapage
				.select("table.genTbl.closedTbl.historicalTbl").select("tbody").select("tr");
		
			var result = "";
		
			for(var i = 0; i < 10; i++){
				var date = trs.get(i).select("td").get(0)+" ";
				date = date.replace(/<[^>]+>/g, ""); // 태그 제거하고 안에 내용만 빼기, (다 제거)
				date = date.replace(/\n/g, " "); // 엔터 제거
				date = date.replace("년 ",".");
				date = date.replace("월 ",".");
				date = date.replace("일"," ");
		
				var price = trs.get(i).select("td").get(1)+" ";
				price = price.replace(/<[^>]+>/g, ""); // 태그 제거하고 안에 내용만 빼기, (다 제거)
				price = price.replace(/\n/g, " "); // 엔터 제거
		
				var pricemove = trs.get(i).select("td").get(6)+" ";
				pricemove = pricemove.replace(/<[^>]+>/g, ""); // 태그 제거하고 안에 내용만 빼기, (다 제거)
				pricemove = pricemove.replace(/\n/g, " "); // 엔터 제거
		
				result = result+ date+": " + price +" ("+ pricemove+")" + "\n";
			}		

			replier.reply("[ "+stockname+" ]"+"\n"+result)
		}
}							
								</details></code></pre>
								<p></p>
								<h3>greed_fear.js</h3>
								<pre><code>
 function response(room, msg, sender, isGroupChat, replier, ImageDB) {	
  if (msg == "공포"||msg=='탐욕' ) {

    var qurryURL = "https://money.cnn.com/data/fear-and-greed/";

	// replier.reply("data connect 시작")
	
	var datapage = org.jsoup.Jsoup.connect(qurryURL) // 차트 data
		.ignoreContentType(true)
		.get()
		
	// replier.reply(datapage)
<details><summary>자세히 보기</summary>
    var num =datapage
     .select("div[id$=needleChart]").get(0) + " ";
	 num = num.split(" ");
	 
	var date = datapage
	.select("div[id$=needleAsOfDate]") + " ";
	date = date.replace(/<[^>]+>/g, ""); // 태그 제거하고 안에 내용만 빼기, (다 제거)
    date = date.replace(/\n/g, " "); // 엔터 제거
	 
	var ForG;
	if ('F' == num[18].substring(1,2)){
		ForG = " (Fear)"
	} else {
		ForG = " (Greed)"
	};
	replier.reply(
	"   " + num[17] + ForG + "\n" + 
	date
	);
  }
}
								</details></code></pre>
								<hr/>
								<h3>간단한 시연 gif</h3>
								<img src="images/주식봇1.gif" width="100%">
						

							</section>

					</div>
				<!-- Footer -->
					<footer id="footer">
						<section>
							<form action="MAILTO:DongkeyDev@gmail.com" method="post" enctype="text/plain">
								<div class="fields">
									<div class="field">
										<label for="name">Name</label>
										<input type="text" name="name" id="name" />
									</div>
									<div class="field">
										<label for="email">Email</label>
										<input type="text" name="email" id="email" />
									</div>
									<div class="field">
										<label for="message">Message</label>
										<textarea name="message" id="message" rows="3"></textarea>
									</div>
								</div>
								<ul class="actions">
									<li><input type="submit" name="submit" value="Send Message" /></li>
								</ul>
							</form>
						</section>
						<section class="split contact">
							<section class="alt">
								<h3>주소</h3>
								<p>서울시 서초구 신반포로270 반포자이 아파트<br />
								</p>
							</section>
							<section>
								<h3>연락처</h3>
								<p><a href="#">010-3176-8204</a></p>
							</section>
							<section>
								<h3>E-mail</h3>
								<p><a href="#">DongkeyDev@gmail.com</a></p>
							</section>
							<section>
								<h3>Social</h3>
								<ul class="icons alt">
									<li><a href="#" class="icon brands alt fa-github"><span class="label">GitHub</span></a></li>
								</ul>
							</section>
						</section>
					</footer>

				<!-- Copyright -->
					<div id="copyright">
						<ul><li>&copy; Untitled</li><li>Design: <a href="https://html5up.net">HTML5 UP</a></li></ul>
					</div>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>